<!DOCTYPE html>
<html>
<head>
	<title>Day_1 Drum Kit</title>
	<link rel="stylesheet" type="text/css" href="./style.css">
</head>
<body>
	<div class="hello_title">Welcome to the Drum Kit Page</div>
	<div class="keys">
		<div data_key="65" class="key">
			<p>A</p>
			<p>CLAP</p>
		</div>

		<div data_key="83" class="key">
			<p>S</p>
			<p>HIHAT</p>
		</div>

		<div data_key="68" class="key">
			<p>D</p>
			<p>KICK</p>
		</div>

		<div data_key="70" class="key">
			<p>F</p>
			<p>OPENHAT</p>
		</div>

		<div data_key="71" class="key">
			<p>G</p>
			<p>BOOM</p>
		</div>

		<div data_key="72" class="key">
			<p>H</p>
			<p>RIDE</p>
		</div>

		<div data_key="74" class="key">
			<p>J</p>
			<p>SNARE</p>
		</div>

		<div data_key="75" class="key">
			<p>K</p>
			<p>TOM</p>
		</div>

		<div data_key="76" class="key">
			<p>L</p>
			<p>TINK</p>
		</div>
		<audio data_key="65" src="./sounds/clap.wav"></audio>
		<audio data_key="83" src="./sounds/hihat.wav"></audio>
		<audio data_key="68" src="./sounds/kick.wav"></audio>
		<audio data_key="70" src="./sounds/openhat.wav"></audio>
		<audio data_key="71" src="./sounds/boom.wav"></audio>
		<audio data_key="72" src="./sounds/ride.wav"></audio>
		<audio data_key="74" src="./sounds/snare.wav"></audio>
		<audio data_key="75" src="./sounds/tom.wav"></audio>
		<audio data_key="76" src="./sounds/tink.wav"></audio>
	</div>
	
	<script type="text/javascript">

		function playSound(event){
			const audio=document.querySelector(`audio[data_key="${event.keyCode}"]`);
			//attain the sound element by querySelector()
			const key=document.querySelector(`.key[data_key="${event.keyCode}"]`);
			//attain the key element by querySelector()
			if (!audio) {return}; //stop the function if hit the null key
			audio.currentTime = 0; //rewind to the start
			audio.play();  //play the audio continously
			key.classList.add('playing'); // add the style css
		};

		function removeTransition(event) {
			if (event.propertyName != 'transform') return; //skip it if it's not a transform
			this.classList.remove('playing');
		};

		const keys = document.querySelectorAll('.key');  //attain all the elements named key
		keys.forEach(key => key.addEventListener('transitionend',removeTransition));
		// add each element the listerner event
		window.addEventListener('keydown', playSound);  //add the keydown event for the window
		

	</script>
</body>
</html>